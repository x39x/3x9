---
title: 使用 pnpm 指定项目的 node 版本
slug: ssh-config
date: 2025-04-05
---


## pnpm 支持全局 Node.js 版本管理

### 查看版本
```bash
pnpm env list                     # 查看本地已安装的 Node 版本
pnpm env list --remote            # 查看可用的远程 Node 版本
pnpm env use --global 22          # 安装并切换到 Node 22 最新小版本
pnpm env use --global lts         # 安装并切换到最新 LTS 版本
pnpm env use --global latest      # 安装最新版本
pnpm env remove --global 14.0.0
```
安装位置在：`~/.local/share/pnpm/nodejs/`


## 项目级指定 Node 版本（非全局切换）

项目目录下创建 `.npmrc` 文件：

```ini
use-node-version=23.11.0
```

执行 `pnpm init`会自动为该项目下载对应版本的 Node，仅在执行 `pnpm` 命令时使用该版本。

例如：

```json
"scripts": {
  "version": "node -v",
  "dev": "node dev.js"
}
```

执行以下命令时将使用 `.npmrc` 指定的 Node：

```bash
pnpm version   # 输出 23.11.0
pnpm dev       # 运行时使用 23.11.0
```

而全局的 `node` 命令仍使用系统默认版本，不受影响。


## 注意事项

- `.npmrc` 中的 `use-node-version` 是 pnpm 自行支持的字段，不属于标准 npm 配置。
- 仅 `pnpm run` 和 `pnpm <script>` 命令会使用该 Node 版本。
- 不会自动切换 shell 中的 `node`，如需自动切换请使用 `nvm` 或 `volta`。
- 参考: [How to manage multiple nodejs versions with pnpm?](https://medium.com/frontendweb/how-to-manage-multiple-nodejs-versions-with-pnpm-8bcce90abedb)
